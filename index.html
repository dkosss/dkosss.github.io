<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Predicting a Win in League of Legends</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      word-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="cell markdown" id="Let3snCQZpJ7">
<p><strong>Predicting a Win in League of Legends</strong></p>
<p>David Koss</p>
<hr />
</div>
<div class="cell markdown" id="WvDzaFWraIqx">
<p>League of Legends is a massive MOBA (Multiplayer Online Battle Arena). Essentially a 5v5 roleplaying game where you can play as Champions of the arena in select roles. The point of the game is to attack and destroy the enemy Nexus. The first team to dstroy the other teams Nexus wins the game. However, it can take time to get to the enemy Nexus. Having to push through enemy turrets, and inhibitors. There are also "neutral" objectives throughout the map which give your team buffs if killed. Our goal is to take the given data provided from Leagues API, and predict a win given fields such as first blood. For more information about League of Legends, you can visit their <a href="https://leagueoflegends.fandom.com/wiki/League_of_Legends_Wiki">wiki</a> page. The data from my dataset can be found here: <a href="https://www.kaggle.com/datasets/datasnaek/league-of-legends?select=games.csv" class="uri">https://www.kaggle.com/datasets/datasnaek/league-of-legends?select=games.csv</a></p>
</div>
<section id="part-1--2-data-collection--management" class="cell markdown" id="Ccop7KZ5zgo2">
<h1><strong>Part 1 &amp; 2: Data Collection &amp; Management</strong></h1>
</section>
<div class="cell code" data-execution_count="21" data-colab="{&quot;height&quot;:488,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="0BJrpDJQYt9C" data-outputId="1e4a4606-5d23-4c6d-840a-5e3d5410247d">
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Name: David Koss</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Class: CMSC320 Fall 2022</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn <span class="im">import</span> linear_model</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn <span class="im">import</span> model_selection</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy.stats <span class="im">as</span> stats</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.tree <span class="im">import</span> DecisionTreeClassifier</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Get our data</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(<span class="st">&quot;https://raw.githubusercontent.com/dkosss/finalproj_data/main/games.csv&quot;</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>data</span></code></pre></div>
<div class="output execute_result" data-execution_count="21">

  <div id="df-eed3750e-a2bf-4c66-8fa5-ea4679628716">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gameId</th>
      <th>creationTime</th>
      <th>gameDuration</th>
      <th>seasonId</th>
      <th>winner</th>
      <th>firstBlood</th>
      <th>firstTower</th>
      <th>firstInhibitor</th>
      <th>firstBaron</th>
      <th>firstDragon</th>
      <th>...</th>
      <th>t2_towerKills</th>
      <th>t2_inhibitorKills</th>
      <th>t2_baronKills</th>
      <th>t2_dragonKills</th>
      <th>t2_riftHeraldKills</th>
      <th>t2_ban1</th>
      <th>t2_ban2</th>
      <th>t2_ban3</th>
      <th>t2_ban4</th>
      <th>t2_ban5</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>3326086514</td>
      <td>1504279457970</td>
      <td>1949</td>
      <td>9</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>...</td>
      <td>5</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>114</td>
      <td>67</td>
      <td>43</td>
      <td>16</td>
      <td>51</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3229566029</td>
      <td>1497848803862</td>
      <td>1851</td>
      <td>9</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>...</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>11</td>
      <td>67</td>
      <td>238</td>
      <td>51</td>
      <td>420</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3327363504</td>
      <td>1504360103310</td>
      <td>1493</td>
      <td>9</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>...</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>157</td>
      <td>238</td>
      <td>121</td>
      <td>57</td>
      <td>28</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3326856598</td>
      <td>1504348503996</td>
      <td>1758</td>
      <td>9</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>164</td>
      <td>18</td>
      <td>141</td>
      <td>40</td>
      <td>51</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3330080762</td>
      <td>1504554410899</td>
      <td>2094</td>
      <td>9</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>...</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>86</td>
      <td>11</td>
      <td>201</td>
      <td>122</td>
      <td>18</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>51485</th>
      <td>3308904636</td>
      <td>1503076540231</td>
      <td>1944</td>
      <td>9</td>
      <td>2</td>
      <td>1</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>...</td>
      <td>10</td>
      <td>2</td>
      <td>0</td>
      <td>4</td>
      <td>0</td>
      <td>55</td>
      <td>-1</td>
      <td>90</td>
      <td>238</td>
      <td>157</td>
    </tr>
    <tr>
      <th>51486</th>
      <td>3215685759</td>
      <td>1496957179355</td>
      <td>3304</td>
      <td>9</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>...</td>
      <td>11</td>
      <td>7</td>
      <td>4</td>
      <td>4</td>
      <td>1</td>
      <td>157</td>
      <td>55</td>
      <td>119</td>
      <td>154</td>
      <td>105</td>
    </tr>
    <tr>
      <th>51487</th>
      <td>3322765040</td>
      <td>1504029863961</td>
      <td>2156</td>
      <td>9</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>...</td>
      <td>10</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>113</td>
      <td>122</td>
      <td>53</td>
      <td>11</td>
      <td>157</td>
    </tr>
    <tr>
      <th>51488</th>
      <td>3256675373</td>
      <td>1499562036246</td>
      <td>1475</td>
      <td>9</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>...</td>
      <td>11</td>
      <td>3</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>154</td>
      <td>39</td>
      <td>51</td>
      <td>90</td>
      <td>114</td>
    </tr>
    <tr>
      <th>51489</th>
      <td>3317333020</td>
      <td>1503612754059</td>
      <td>1445</td>
      <td>9</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>...</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>11</td>
      <td>157</td>
      <td>141</td>
      <td>31</td>
      <td>18</td>
    </tr>
  </tbody>
</table>
<p>51490 rows × 61 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-eed3750e-a2bf-4c66-8fa5-ea4679628716')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-eed3750e-a2bf-4c66-8fa5-ea4679628716 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-eed3750e-a2bf-4c66-8fa5-ea4679628716');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="Jsvj34Yz0rgP">
<p>Here we're given a set of data with many different columns ranging from game duration (in seconds) to things like firstDragon. For the purpose of this data, 1 will be referred to as team 1, and 2 will equal the second team. So for example, winner of our first entry was "1" meaning team 1 was the winner of that match. Likewise, objectives like the "firstBaron" will have the same number format, but a "0" will refer to none. For more general info, again visiting this link <a href="https://www.kaggle.com/datasets/datasnaek/league-of-legends?select=games.csv">League Data</a> will provide all of handy information you need to know about this data.</p>
</div>
<div class="cell code" data-execution_count="2" data-colab="{&quot;height&quot;:488,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="yyHAe5NA2X26" data-outputId="2a1498fb-21c1-43ab-9009-7ce801abdde5">
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Getting rid of data we don&#39;t need</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>new_data <span class="op">=</span> data.drop([<span class="st">&quot;gameId&quot;</span>, <span class="st">&quot;creationTime&quot;</span>, <span class="st">&quot;t1_champ1id&quot;</span>, <span class="st">&quot;t1_champ1_sum1&quot;</span>,	<span class="st">&quot;t1_champ1_sum2&quot;</span>,	<span class="st">&quot;t1_champ2id&quot;</span>,	<span class="st">&quot;t1_champ2_sum1&quot;</span>,	<span class="st">&quot;t1_champ2_sum2&quot;</span>,	<span class="st">&quot;t1_champ3id&quot;</span>,	<span class="st">&quot;t1_champ3_sum1&quot;</span>,	<span class="st">&quot;t1_champ3_sum2&quot;</span>,	<span class="st">&quot;t1_champ4id&quot;</span>,	</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>                      <span class="st">&quot;t1_champ4_sum1&quot;</span>,	<span class="st">&quot;t1_champ4_sum2&quot;</span>,	<span class="st">&quot;t1_champ5id&quot;</span>,	<span class="st">&quot;t1_champ5_sum1&quot;</span>,	<span class="st">&quot;t1_champ5_sum2&quot;</span>, <span class="st">&quot;t1_ban1&quot;</span>,	<span class="st">&quot;t1_ban2&quot;</span>,	<span class="st">&quot;t1_ban3&quot;</span>,	<span class="st">&quot;t1_ban4&quot;</span>,	<span class="st">&quot;t1_ban5&quot;</span>,	<span class="st">&quot;t2_champ1id&quot;</span>, <span class="st">&quot;t2_champ1_sum1&quot;</span>,	<span class="st">&quot;t2_champ1_sum2&quot;</span>,	</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>                      <span class="st">&quot;t2_champ2id&quot;</span>,	<span class="st">&quot;t2_champ2_sum1&quot;</span>,	<span class="st">&quot;t2_champ2_sum2&quot;</span>,	<span class="st">&quot;t2_champ3id&quot;</span>, <span class="st">&quot;t2_champ3_sum1&quot;</span>,	<span class="st">&quot;t2_champ3_sum2&quot;</span>, <span class="st">&quot;t2_champ4id&quot;</span>,	<span class="st">&quot;t2_champ4_sum1&quot;</span>,	<span class="st">&quot;t2_champ4_sum2&quot;</span>,	<span class="st">&quot;t2_champ5id&quot;</span>,	<span class="st">&quot;t2_champ5_sum1&quot;</span>,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>                      <span class="st">&quot;t2_champ5_sum2&quot;</span>, <span class="st">&quot;t2_ban1&quot;</span>,	<span class="st">&quot;t2_ban2&quot;</span>,	<span class="st">&quot;t2_ban3&quot;</span>,	<span class="st">&quot;t2_ban4&quot;</span>,	<span class="st">&quot;t2_ban5&quot;</span>, <span class="st">&quot;seasonId&quot;</span>], axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the indices of rows where the &quot;winner&quot; column is 0</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>indices_to_drop <span class="op">=</span> new_data[new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">0</span>].index</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop those rows</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>new_data.drop(indices_to_drop, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop rows where the &quot;firstBlood&quot; column is 0</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>new_data.drop(new_data[new_data[<span class="st">&quot;firstBlood&quot;</span>] <span class="op">==</span> <span class="dv">0</span>].index, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop rows where the &quot;firstTower&quot; column is 0</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>new_data.drop(new_data[new_data[<span class="st">&quot;firstTower&quot;</span>] <span class="op">==</span> <span class="dv">0</span>].index, inplace <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>new_data</span></code></pre></div>
<div class="output execute_result" data-execution_count="2">

  <div id="df-6d6ce63b-d7aa-442d-a7a0-ff9372dd8777">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>gameDuration</th>
      <th>winner</th>
      <th>firstBlood</th>
      <th>firstTower</th>
      <th>firstInhibitor</th>
      <th>firstBaron</th>
      <th>firstDragon</th>
      <th>firstRiftHerald</th>
      <th>t1_towerKills</th>
      <th>t1_inhibitorKills</th>
      <th>t1_baronKills</th>
      <th>t1_dragonKills</th>
      <th>t1_riftHeraldKills</th>
      <th>t2_towerKills</th>
      <th>t2_inhibitorKills</th>
      <th>t2_baronKills</th>
      <th>t2_dragonKills</th>
      <th>t2_riftHeraldKills</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1949</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>11</td>
      <td>1</td>
      <td>2</td>
      <td>3</td>
      <td>0</td>
      <td>5</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1851</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>10</td>
      <td>4</td>
      <td>0</td>
      <td>2</td>
      <td>1</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1493</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>0</td>
      <td>8</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1758</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>9</td>
      <td>2</td>
      <td>1</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2094</td>
      <td>1</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>9</td>
      <td>2</td>
      <td>1</td>
      <td>3</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>51485</th>
      <td>1944</td>
      <td>2</td>
      <td>1</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>10</td>
      <td>2</td>
      <td>0</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <th>51486</th>
      <td>3304</td>
      <td>2</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>5</td>
      <td>4</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>11</td>
      <td>7</td>
      <td>4</td>
      <td>4</td>
      <td>1</td>
    </tr>
    <tr>
      <th>51487</th>
      <td>2156</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>10</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>51488</th>
      <td>1475</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>2</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>11</td>
      <td>3</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>51489</th>
      <td>1445</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>2</td>
      <td>0</td>
      <td>11</td>
      <td>3</td>
      <td>1</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>50277 rows × 18 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-6d6ce63b-d7aa-442d-a7a0-ff9372dd8777')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-6d6ce63b-d7aa-442d-a7a0-ff9372dd8777 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-6d6ce63b-d7aa-442d-a7a0-ff9372dd8777');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="ThZs0szU5U1p">
<p>For the purposes of this tutorial, we don't really care about some of the information given in our dataset. Again, we're trying to predict a win with our current data and we want to do this in the most efficient and simplest manner possible. So I went ahead and omitted a few of the columns I didn't feel would help us in achieving this goal and added this new dataset under a variable named "new_data" because I didn't want to completely scrap the original data. These columns were creationTime, gameId, and so forth, there were a lot of entries that were omitted, to see the full list, the code above will show. One thing to also note is I omitted some columns such as team bans and team champion picks. These pieces of data definitely do help us, however it gets very complex and certain things like "metas" will change how effective these columns actually are. So for the purposes of this tutorial, we will focus on things in game, which are much less variable and more binary, such as first blood, first tower, first inhibitor, etc. We've reduced our column size from 61 to 18. We also wanted to remove rows where there was a 0 in the winner column or a 0 in the first blood column, or first tower column. Since a 0 = none, this shows that the game was not played out, or a forfeit had happened in the early stages, which would end up skewing our data. We have now just gone from 51490 rows to 50277 rows. That's a lot of excess data we've omitted!</p>
</div>
<section id="part-3-exploratory-data-analysis" class="cell markdown" id="vlnkYXKn0Epu">
<h1><strong>Part 3: Exploratory Data Analysis</strong></h1>
</section>
<div class="cell markdown" id="B2mjNp5rmVw4">
<p>Now we've entered the part in our tutorial in which we would like to start analyzing our data. We will start by breaking down different factors into win ratios. We will use graphs to get a nice visual output at what exactly we are looking at.</p>
</div>
<div class="cell markdown" id="EVaHsGJ_oSYO">
<p><strong>Winner vs First Blood</strong></p>
<hr />
</div>
<div class="cell markdown" id="YNZnhOraQA5m">
<p>First blood in a game is achieved by the very first kill of the game happening. It can award the player getting first blood an additional 400 gold and giving them an advantage in item swiftness. More information on first blood can be found <a href="https://www.pinnacle.com/en/esports-hub/betting-articles/league-of-legends/betting-on-first-blood/sgajzgnuz8lgxujv#:~:text=First%20Blood%2C%20abbreviated%20%27FB%27,evenly%20between%20players%20that%20assist.">here</a>.</p>
</div>
<div class="cell code" data-execution_count="25" data-colab="{&quot;height&quot;:439,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="X_1YaFPMmAQ3" data-outputId="1bab6072-ddcf-471c-e11b-5c04bfaae8c7">
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Correlate first blood with the team that won the game</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratio for Team 1 ---------------------------------</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows where winner and firstBlood are &quot;1&quot;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>team1_data <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (new_data[<span class="st">&quot;firstBlood&quot;</span>] <span class="op">==</span> <span class="dv">1</span>)]</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows to show how many wins team 1 had</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>team1_wins <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">1</span>)]</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the numerator and denominator for the win ratio (this is done through the number of rows for each dataframe)</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>numerator <span class="op">=</span> team1_data.shape[<span class="dv">0</span>]</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>denominator <span class="op">=</span> team1_wins.shape[<span class="dv">0</span>]</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratio</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>win_ratio_t1 <span class="op">=</span> numerator <span class="op">/</span> denominator</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratio for Team 2 ---------------------------------</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows where winner and firstBlood are &quot;2&quot;</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>team2_data <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">2</span>) <span class="op">&amp;</span> (new_data[<span class="st">&quot;firstBlood&quot;</span>] <span class="op">==</span> <span class="dv">2</span>)]</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows to show how many wins team 2 had</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>team2_wins <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">2</span>)]</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the numerator and denominator for the win ratio (this is done through the number of rows for each dataframe)</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>numerator <span class="op">=</span> team2_data.shape[<span class="dv">0</span>]</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>denominator <span class="op">=</span> team2_wins.shape[<span class="dv">0</span>]</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratio</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>win_ratio_t2 <span class="op">=</span> numerator <span class="op">/</span> denominator</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame with the win ratios</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({<span class="st">&#39;Teams&#39;</span>: [<span class="st">&#39;Team 1&#39;</span>, <span class="st">&#39;Team 2&#39;</span>], <span class="st">&#39;Win Ratio&#39;</span>: [win_ratio_t1, win_ratio_t2]})</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar plot showing the win ratio for each group</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize <span class="op">=</span> (<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar plot</span></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>sns.barplot(x <span class="op">=</span><span class="st">&#39;Teams&#39;</span>, y <span class="op">=</span><span class="st">&#39;Win Ratio&#39;</span>, data <span class="op">=</span> df)</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the title for the bar graph</span></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Win Ratios Given First Blood&quot;</span>)</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the y-axis label</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Win Ratio&#39;</span>)</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the x-axis label</span></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Teams&#39;</span>)</span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Show win percentages of each team given first tower</span></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Win percentage of Team 1:&quot;</span>, <span class="bu">round</span>(win_ratio_t1<span class="op">*</span><span class="dv">100</span>, <span class="dv">2</span>), <span class="st">&quot;%&quot;</span>)</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Win percentage of Team 2:&quot;</span>, <span class="bu">round</span>(win_ratio_t2<span class="op">*</span><span class="dv">100</span>, <span class="dv">2</span>), <span class="st">&quot;%&quot;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Win percentage of Team 1: 60.21 %
Win percentage of Team 2: 57.87 %
</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_5515457e45e748f2b6402e1e2ba659fc/258a734929154bcfc10c534e1b72721f936435f8.png" /></p>
</div>
</div>
<div class="cell markdown" id="Yh-iKZdXvQY2">
<p>Here we can see that if team 1 got first blood, then they were more likely to win the match and same with team 2. Specifically, team 1 had about a <strong>0.60 win ratio</strong> after getting first blood. If team 2 got first blood, then they had approximately a <strong>0.58 win ratio</strong>. This data tells us that the <strong>team getting first blood was more likely to win</strong> the match given that both values are above 50%. The win ratio was calculated as follows, a win for a team is counted as a win if the row in columns "winner" and "firstBlood" are both matching. This means for example, if entry 7 has a "1" in the "winner" column and a "1" in the "firstBlood" column, then this would be a win for team 1. Then this was divided by the total number of games won by team 1. So the only difference to keep track of here, is the "win" definition we use, so we can calculate the win ratio given that team got first blood.</p>
</div>
<div class="cell markdown" id="w2XFk7Fpg738">
<p><strong>Winner vs First Tower</strong></p>
<hr />
</div>
<div class="cell markdown" id="-XuZ71N0RVW5">
<p>First Tower in League of Legends is getting the first tower in the game. This awards the player and team both map positioning and bonus gold for destroying it. More information on first tower (or turret) can be found <a href="https://leagueoflegends.fandom.com/wiki/Turret">here</a>.</p>
</div>
<div class="cell markdown" id="g5GxgUIPSPFa">
<p><img src="vertopal_5515457e45e748f2b6402e1e2ba659fc/1cac105f07e553edee88dc36b09787cb5f107703.png" alt="Tower.PNG" /></p>
</div>
<div class="cell code" data-execution_count="4" data-colab="{&quot;height&quot;:439,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="tnVfmbWhhvcB" data-outputId="47334312-6bbe-4c4c-812c-986ee2859c70">
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratio for Team 1 ---------------------------------</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows where winner and firstTower are &quot;1&quot;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>team1_data <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (new_data[<span class="st">&quot;firstTower&quot;</span>] <span class="op">==</span> <span class="dv">1</span>)]</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows to show how many wins team 1 had</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>team1_wins <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">1</span>)]</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the numerator and denominator for the win ratio (this is done through the number of rows for each dataframe)</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>numerator <span class="op">=</span> team1_data.shape[<span class="dv">0</span>]</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>denominator <span class="op">=</span> team1_wins.shape[<span class="dv">0</span>]</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratio</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>win_ratio_t1 <span class="op">=</span> numerator <span class="op">/</span> denominator</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratio for Team 2 ---------------------------------</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows where winner and firstTower are &quot;2&quot;</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>team2_data <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">2</span>) <span class="op">&amp;</span> (new_data[<span class="st">&quot;firstTower&quot;</span>] <span class="op">==</span> <span class="dv">2</span>)]</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows to show how many wins team 2 had</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>team2_wins <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">2</span>)]</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the numerator and denominator for the win ratio (this is done through the number of rows for each dataframe)</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>numerator <span class="op">=</span> team2_data.shape[<span class="dv">0</span>]</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>denominator <span class="op">=</span> team2_wins.shape[<span class="dv">0</span>]</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratio</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>win_ratio_t2 <span class="op">=</span> numerator <span class="op">/</span> denominator</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame with the win ratios</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({<span class="st">&#39;Teams&#39;</span>: [<span class="st">&#39;Team 1&#39;</span>, <span class="st">&#39;Team 2&#39;</span>], <span class="st">&#39;Win Ratio&#39;</span>: [win_ratio_t1, win_ratio_t2]})</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar plot showing the win ratio for each group</span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize <span class="op">=</span> (<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar plot</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>sns.barplot(x <span class="op">=</span><span class="st">&#39;Teams&#39;</span>, y <span class="op">=</span><span class="st">&#39;Win Ratio&#39;</span>, data <span class="op">=</span> df)</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the title for the bar graph and label the axis</span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Win Ratios Given First Tower&quot;</span>)</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Win Ratio&#39;</span>)</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Teams&#39;</span>)</span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Show win percentages of each team given first tower</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Win percentage of Team 1:&quot;</span>, <span class="bu">round</span>(win_ratio_t1<span class="op">*</span><span class="dv">100</span>, <span class="dv">2</span>), <span class="st">&quot;%&quot;</span>)</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Win percentage of Team 2:&quot;</span>, <span class="bu">round</span>(win_ratio_t2<span class="op">*</span><span class="dv">100</span>, <span class="dv">2</span>), <span class="st">&quot;%&quot;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Win percentage of Team 1: 71.99 %
Win percentage of Team 2: 69.63 %
</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_5515457e45e748f2b6402e1e2ba659fc/9219d47625bc162605ab05c6763c831fd4fee8c5.png" /></p>
</div>
</div>
<div class="cell markdown" id="gHEOgQQukIUw">
<p>As we can see here, this graph is telling us if either team got first tower then they were pretty likely to win the game. Team 1 had about a 72% chance of winning, whereas team 2 had about a 70% chance of winning. Our win ratios were calculated using similar methods as the graph above, but instead of having "firstBlood" we have "firstTower" since this graph is showing the teams respective win rates given that they got first tower.</p>
</div>
<div class="cell markdown" id="8cakX5WEkKsi">
<p><strong>Winner vs First Inhibitor</strong></p>
<hr />
</div>
<div class="cell markdown" id="F7sYCJc3SfR8">
<p>Each team has 3 Inhibitors, 1 for each lane. The Inhibitors spawn "<a href="https://leagueoflegends.fandom.com/wiki/Super_minion">super minions</a>". Once destroyed, they stop spawning super minions and can make the enemy's <a href="https://leagueoflegends.fandom.com/wiki/Nexus">Nexus</a> or defending Nexus turrets vulnerable. More information on the inhibitor can be found <a href="https://leagueoflegends.fandom.com/wiki/Inhibitor">here</a>.</p>
</div>
<div class="cell markdown" id="WOMJNl5STvAi">
<p><img src="vertopal_5515457e45e748f2b6402e1e2ba659fc/3b3bfafc1412927df7bb40ce9a488aa209d14e1f.png" alt="Blue Inhibitor.PNG" /></p>
</div>
<div class="cell code" data-execution_count="5" data-colab="{&quot;height&quot;:439,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="nTistvinkOal" data-outputId="45050a48-30d0-48df-cfe6-00506cd7683b">
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratio for Team 1 ---------------------------------</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows where winner and firstInhibitor are &quot;1&quot;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>team1_data <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (new_data[<span class="st">&quot;firstInhibitor&quot;</span>] <span class="op">==</span> <span class="dv">1</span>)]</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows to show how many wins team 1 had</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>team1_wins <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">1</span>)]</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the numerator and denominator for the win ratio (this is done through the number of rows for each dataframe)</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>numerator <span class="op">=</span> team1_data.shape[<span class="dv">0</span>]</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>denominator <span class="op">=</span> team1_wins.shape[<span class="dv">0</span>]</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratio</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>win_ratio_t1 <span class="op">=</span> numerator <span class="op">/</span> denominator</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratio for Team 2 ---------------------------------</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows where winner and firstInhibitor are &quot;2&quot;</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>team2_data <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">2</span>) <span class="op">&amp;</span> (new_data[<span class="st">&quot;firstInhibitor&quot;</span>] <span class="op">==</span> <span class="dv">2</span>)]</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows to show how many wins team 2 had</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>team2_wins <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">2</span>)]</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the numerator and denominator for the win ratio (this is done through the number of rows for each dataframe)</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>numerator <span class="op">=</span> team2_data.shape[<span class="dv">0</span>]</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>denominator <span class="op">=</span> team2_wins.shape[<span class="dv">0</span>]</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratio</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>win_ratio_t2 <span class="op">=</span> numerator <span class="op">/</span> denominator</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DataFrame with the win ratios</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({<span class="st">&#39;Teams&#39;</span>: [<span class="st">&#39;Team 1&#39;</span>, <span class="st">&#39;Team 2&#39;</span>], <span class="st">&#39;Win Ratio&#39;</span>: [win_ratio_t1, win_ratio_t2]})</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar plot showing the win ratio for each group</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize <span class="op">=</span> (<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar plot</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>sns.barplot(x <span class="op">=</span><span class="st">&#39;Teams&#39;</span>, y <span class="op">=</span><span class="st">&#39;Win Ratio&#39;</span>, data <span class="op">=</span> df)</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the title for the bar graph and label the axis</span></span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Win Ratios Given First Inhibitor&quot;</span>)</span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Win Ratio&#39;</span>)</span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Teams&#39;</span>)</span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Show win percentages of each team given first tower</span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Win percentage of Team 1:&quot;</span>, <span class="bu">round</span>(win_ratio_t1<span class="op">*</span><span class="dv">100</span>, <span class="dv">2</span>), <span class="st">&quot;%&quot;</span>)</span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Win percentage of Team 2:&quot;</span>, <span class="bu">round</span>(win_ratio_t2<span class="op">*</span><span class="dv">100</span>, <span class="dv">2</span>), <span class="st">&quot;%&quot;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>Win percentage of Team 1: 82.32 %
Win percentage of Team 2: 81.53 %
</code></pre>
</div>
<div class="output display_data">
<p><img src="vertopal_5515457e45e748f2b6402e1e2ba659fc/6dd1763a394a99437105b6de925ac1e6e365dcb9.png" /></p>
</div>
</div>
<div class="cell markdown" id="n2CjD3gwk7Eu">
<p>Using this graph we can see there is a massive win rate if a team gets the first inhibitor. This makes a lot of sense since destroying the enemy teams Inhibitor signals that their end is near as this is one of the last lines of defense versus the opposing team. This graph tells us for example, that team 1 has around a <strong>0.82 win ratio</strong> when destroying team 2's inhibitor first, and team 2 has around a <strong>0.81 win ratio</strong> when destroying team 1's inhibitor first. What I found to be really interesting about this data is just how close the win ratios are. With the other graphs we saw common trends, such as 3% differences or so. But with first inhibitor it almost looks as if both teams are the same given how close their win ratios are. As mentioned before I did expect high ratios on this objective, but I didn't expect it to actually be this high. I was thinking more around the mid 70's or so.</p>
</div>
<div class="cell markdown" id="o8HAg0jZhP6B">
<p><strong>Winner vs firstBaron firstDragon firstRiftHerald</strong></p>
<hr />
</div>
<div class="cell markdown" id="-M6yoFNFUJwb">
<p><img src="vertopal_5515457e45e748f2b6402e1e2ba659fc/cb5e7deeebfd09324ec866047aed78b3ee69a2c6.png" alt="image_2022-12-14_200534591.png" /></p>
</div>
<div class="cell markdown" id="Q7Cs6n8Qlc44">
<p>Monsters such as <a href="https://leagueoflegends.fandom.com/wiki/Dragon">Dragons</a>, <a href="https://leagueoflegends.fandom.com/wiki/Baron_Nashor_(League_of_Legends)">Barons</a>, and <a href="https://leagueoflegends.fandom.com/wiki/Rift_Herald_(League_of_Legends)">Rift Heralds</a> are neutral objectives on the map. Destroying these can give your team larges amounts of gold and xp, as well as giving buffs to your team.</p>
</div>
<div class="cell code" data-execution_count="6" data-colab="{&quot;height&quot;:390,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="Q3UsHqC48H5a" data-outputId="50bbdffa-a53d-4dd6-a99e-5f1268db5cdf">
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratio for Team 1 --------------------------------------------</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows where winner and firstBaron, firstDragon, and firstRiftHerald are &quot;1&quot;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>team1_fb <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (new_data[<span class="st">&quot;firstBaron&quot;</span>] <span class="op">==</span> <span class="dv">1</span>)]</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>team1_fd <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (new_data[<span class="st">&quot;firstDragon&quot;</span>] <span class="op">==</span> <span class="dv">1</span>)]</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>team1_frh <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (new_data[<span class="st">&quot;firstRiftHerald&quot;</span>] <span class="op">==</span> <span class="dv">1</span>)]</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows to show how many wins team 1 had</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>team1_wins <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">1</span>)]</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratios for all of the objectives for team 1</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>win_ratio_fb_t1 <span class="op">=</span> team1_fb.shape[<span class="dv">0</span>] <span class="op">/</span> team1_wins.shape[<span class="dv">0</span>]</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>win_ratio_fd_t1 <span class="op">=</span> team1_fd.shape[<span class="dv">0</span>] <span class="op">/</span> team1_wins.shape[<span class="dv">0</span>]</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>win_ratio_frh_t1 <span class="op">=</span> team1_frh.shape[<span class="dv">0</span>] <span class="op">/</span> team1_wins.shape[<span class="dv">0</span>]</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratio for Team 2 ------------------------------------------</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows where winner and firstBaron, firstDragon, and firstRiftHerald are &quot;2&quot;</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>team2_fb <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">2</span>) <span class="op">&amp;</span> (new_data[<span class="st">&quot;firstBaron&quot;</span>] <span class="op">==</span> <span class="dv">2</span>)]</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>team2_fd <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">2</span>) <span class="op">&amp;</span> (new_data[<span class="st">&quot;firstDragon&quot;</span>] <span class="op">==</span> <span class="dv">2</span>)]</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>team2_frh <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">2</span>) <span class="op">&amp;</span> (new_data[<span class="st">&quot;firstRiftHerald&quot;</span>] <span class="op">==</span> <span class="dv">2</span>)]</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows to show how many wins team 2 had</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>team2_wins <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">2</span>)]</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratios for all of the objectives for team 2</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>win_ratio_fb_t2 <span class="op">=</span> team2_fb.shape[<span class="dv">0</span>] <span class="op">/</span> team2_wins.shape[<span class="dv">0</span>]</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>win_ratio_fd_t2 <span class="op">=</span> team2_fd.shape[<span class="dv">0</span>] <span class="op">/</span> team2_wins.shape[<span class="dv">0</span>]</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>win_ratio_frh_t2 <span class="op">=</span> team2_frh.shape[<span class="dv">0</span>] <span class="op">/</span> team2_wins.shape[<span class="dv">0</span>]</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Graphing -------------------------------------------------------------------</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a figure and set the size</span></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">6</span>))</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a subplot with 1 row and 3 columns, and set the title</span></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>ax1 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>, title <span class="op">=</span> <span class="st">&quot;First Baron Win Ratio&quot;</span>)</span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>ax2 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>, title <span class="op">=</span> <span class="st">&quot;First Dragon Win Ratio&quot;</span>)</span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>ax3 <span class="op">=</span> fig.add_subplot(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">3</span>, title <span class="op">=</span> <span class="st">&quot;First Rift Herald Win Ratio&quot;</span>)</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a point plot to each subplot</span></span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>ax1.plot(win_ratio_fb_t1, <span class="st">&quot;o&quot;</span>, color <span class="op">=</span> <span class="st">&quot;r&quot;</span>)</span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>ax2.plot(win_ratio_fd_t1, <span class="st">&quot;o&quot;</span>, color <span class="op">=</span> <span class="st">&quot;r&quot;</span>)</span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>ax3.plot(win_ratio_frh_t1, <span class="st">&quot;o&quot;</span>, color <span class="op">=</span> <span class="st">&quot;r&quot;</span>)</span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a point plot to each subplot</span></span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>ax1.plot(win_ratio_fb_t2, <span class="st">&quot;o&quot;</span>, color <span class="op">=</span> <span class="st">&quot;b&quot;</span>)</span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>ax2.plot(win_ratio_fd_t2, <span class="st">&quot;o&quot;</span>, color <span class="op">=</span> <span class="st">&quot;b&quot;</span>)</span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>ax3.plot(win_ratio_frh_t2, <span class="st">&quot;o&quot;</span>, color <span class="op">=</span> <span class="st">&quot;b&quot;</span>)</span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plots</span></span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a><span class="co"># Show win percentages of each team given first tower</span></span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a><span class="co">#print(&quot;Win percentage of Team 1:&quot;, &quot;\n&quot;, &quot;First Baron:&quot;, round(win_ratio_fb_t1*100, 2), &quot;%\n&quot;, &quot;First Dragon:&quot;, round(win_ratio_fd_t1*100, 2), &quot;%\n&quot;, &quot;First Rift Herald:&quot;, round(win_ratio_frh_t1*100, 2), &quot;%&quot;)</span></span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a><span class="co">#print(&quot;Win percentage of Team 2:&quot;, &quot;\n&quot;, &quot;First Baron:&quot;, round(win_ratio_fb_t2*100, 2), &quot;%\n&quot;, &quot;First Dragon:&quot;, round(win_ratio_fd_t2*100, 2), &quot;%\n&quot;, &quot;First Rift Herald:&quot;, round(win_ratio_frh_t2*100, 2), &quot;%&quot;)</span></span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_5515457e45e748f2b6402e1e2ba659fc/56d12ce0aff21776dfb0485a9c5964f0a964cb64.png" /></p>
</div>
</div>
<div class="cell markdown" id="E4SQhgDHK1mQ">
<p>Here we created a figure with three subplots, one for each win ratio. The figure then adds point plots for the win ratios for team 1 and team 2 to each subplot. Our blue point indicates the win ratio for team 2 and our red point indicates the ratio for team 1. With this figure we are not using the x axis, so all points remain in the same horizontal position. The only information we care about here is the win ratios for each team for each object described above. What actually really interesting about this data is how spread apart the win ratios were for each team for First Baron. As we saw with our data above, the win ratios were relatively pretty close to each other as compared to these.</p>
</div>
<section id="part-4-predicting-win-ratio" class="cell markdown" id="J6XMVzh30IVW">
<h1><strong>Part 4: Predicting Win Ratio</strong></h1>
</section>
<div class="cell markdown" id="j04LPk5tOfkz">
<p>In this section, using the data we collected and fitted, and using the information we obtained in the last section, we want to <strong>predict what team will win the game</strong>. We want to determine this given certain things happen, such as first blood.</p>
</div>
<div class="cell markdown" id="u_FNYRoiP3lY">
<p><strong>Linear Regression For First Blood</strong></p>
<hr />
</div>
<div class="cell code" data-execution_count="7" data-colab="{&quot;height&quot;:206,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="nzVSLLMbRIg8" data-outputId="c74b6ff2-5318-4436-b3ed-1a247dbbbe1c">
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new dataframe to edit using the old dataframes data</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>fb <span class="op">=</span> new_data</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop all the columns we won&#39;t be using for this model</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>fb_df <span class="op">=</span> fb.drop([<span class="st">&#39;gameDuration&#39;</span>, <span class="st">&#39;firstTower&#39;</span>, <span class="st">&#39;firstInhibitor&#39;</span>,	<span class="st">&#39;firstBaron&#39;</span>,	<span class="st">&#39;firstDragon&#39;</span>,	<span class="st">&#39;firstRiftHerald&#39;</span>,	<span class="st">&#39;t1_towerKills&#39;</span>,	<span class="st">&#39;t1_inhibitorKills&#39;</span>,	<span class="st">&#39;t1_baronKills&#39;</span>,	<span class="st">&#39;t1_dragonKills&#39;</span>,	<span class="st">&#39;t1_riftHeraldKills&#39;</span>,	</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>                 <span class="st">&#39;t2_towerKills&#39;</span>,	<span class="st">&#39;t2_inhibitorKills&#39;</span>,	<span class="st">&#39;t2_baronKills&#39;</span>,	<span class="st">&#39;t2_dragonKills&#39;</span>,	<span class="st">&#39;t2_riftHeraldKills&#39;</span>], axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratio for Team 1 ---------------------------------</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows where winner and firstBlood are &quot;1&quot;</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>team1_data <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">&amp;</span> (new_data[<span class="st">&quot;firstBlood&quot;</span>] <span class="op">==</span> <span class="dv">1</span>)]</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows to show how many wins team 1 had</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>team1_wins <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">1</span>)]</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the numerator and denominator for the win ratio (this is done through the number of rows for each dataframe)</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>numerator <span class="op">=</span> team1_data.shape[<span class="dv">0</span>]</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>denominator <span class="op">=</span> team1_wins.shape[<span class="dv">0</span>]</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratio</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>win_ratio_t1 <span class="op">=</span> numerator <span class="op">/</span> denominator</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratio for Team 2 ---------------------------------</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows where winner and firstBlood are &quot;2&quot;</span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>team2_data <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">2</span>) <span class="op">&amp;</span> (new_data[<span class="st">&quot;firstBlood&quot;</span>] <span class="op">==</span> <span class="dv">2</span>)]</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows to show how many wins team 2 had</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>team2_wins <span class="op">=</span> new_data.loc[(new_data[<span class="st">&quot;winner&quot;</span>] <span class="op">==</span> <span class="dv">2</span>)]</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the numerator and denominator for the win ratio (this is done through the number of rows for each dataframe)</span></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>numerator <span class="op">=</span> team2_data.shape[<span class="dv">0</span>]</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>denominator <span class="op">=</span> team2_wins.shape[<span class="dv">0</span>]</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the win ratio</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>win_ratio_t2 <span class="op">=</span> numerator <span class="op">/</span> denominator</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding win ratios of teams 1 &amp; 2 to the dataframe</span></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>fb_df[<span class="st">&quot;t1_win_ratio&quot;</span>] <span class="op">=</span> win_ratio_t1</span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>fb_df[<span class="st">&quot;t2_win_ratio&quot;</span>] <span class="op">=</span> win_ratio_t2</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>fb_df.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="7">

  <div id="df-3cede6a5-ed58-4811-b79b-6218a0088434">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>winner</th>
      <th>firstBlood</th>
      <th>t1_win_ratio</th>
      <th>t2_win_ratio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>2</td>
      <td>0.602067</td>
      <td>0.578742</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>0.602067</td>
      <td>0.578742</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>2</td>
      <td>0.602067</td>
      <td>0.578742</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>1</td>
      <td>0.602067</td>
      <td>0.578742</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>2</td>
      <td>0.602067</td>
      <td>0.578742</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-3cede6a5-ed58-4811-b79b-6218a0088434')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-3cede6a5-ed58-4811-b79b-6218a0088434 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-3cede6a5-ed58-4811-b79b-6218a0088434');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell code" data-execution_count="22" data-colab="{&quot;height&quot;:279,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="Wm-0oIpg5Nmb" data-outputId="0230448e-211f-4e49-9957-c73ecb81f752">
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the columns we want to use as features</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> fb_df[[<span class="st">&quot;t1_win_ratio&quot;</span>, <span class="st">&quot;t2_win_ratio&quot;</span>]]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the column we want to predict</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> fb_df[<span class="st">&quot;winner&quot;</span>]</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a LinearRegression object</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>lr <span class="op">=</span> LinearRegression()</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the data into training and test sets</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> model_selection.train_test_split(X, y, test_size <span class="op">=</span> <span class="fl">0.3</span>)</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the model on the training data</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>lr.fit(X_train, y_train)</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the model to make predictions on the test data</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> lr.predict(X_test)</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a plot using seaborn&#39;s histplot function</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>sns.histplot(y_pred, color<span class="op">=</span><span class="st">&quot;blue&quot;</span>, label<span class="op">=</span><span class="st">&quot;Predicted&quot;</span>)</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>sns.histplot(y_test, color<span class="op">=</span><span class="st">&quot;orange&quot;</span>, label<span class="op">=</span><span class="st">&quot;Actual&quot;</span>)</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a legend</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_5515457e45e748f2b6402e1e2ba659fc/27e0e6f562bd11638f38434b1cc3722efbbe7acf.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="23" data-colab="{&quot;height&quot;:279,&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="Rr2CDWPa7xoE" data-outputId="bd6c7ef9-20c7-4c9f-87e3-1fc26f3be549">
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the columns we want to use as features</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> fb_df[[<span class="st">&quot;t1_win_ratio&quot;</span>, <span class="st">&quot;t2_win_ratio&quot;</span>]]</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the column we want to predict</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> fb_df[<span class="st">&quot;winner&quot;</span>]</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a DecisionTreeClassifier object</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>dt <span class="op">=</span> DecisionTreeClassifier()</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Split the data into training and test sets</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> model_selection.train_test_split(X, y, test_size<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the model on the training data</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>dt.fit(X_train, y_train)</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the model to make predictions on the test data</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> dt.predict(X_test)</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a plot using seaborn&#39;s histplot function</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>sns.histplot(y_pred, color<span class="op">=</span><span class="st">&quot;blue&quot;</span>, label<span class="op">=</span><span class="st">&quot;Predicted&quot;</span>)</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>sns.histplot(y_test, color<span class="op">=</span><span class="st">&quot;orange&quot;</span>, label<span class="op">=</span><span class="st">&quot;Actual&quot;</span>)</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a legend</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img src="vertopal_5515457e45e748f2b6402e1e2ba659fc/2f01d9c4a6d214bbeb733eb66a9c52b13222a861.png" /></p>
</div>
</div>
<div class="cell markdown" id="mkiESv4VHhF0">
<p>Here I looked at 2 separate models when having it predict a win. The first model is a linear regression model, and the second is a Decision Tree model. I like the decision tree model better because overall I feel it's more accurate than the linear model.</p>
</div>
<div class="cell markdown" id="eZJZubgeIW-P">
<p>Next, we want to perform the F test to see if the model is a good fit for our data. To perform the F test, we need to first compute the sum of squares due to error (SSE), which is the sum of the squared differences between the predicted and actual values of the dependent variable. We can then compute the total sum of squares (SST), which is the sum of the squared differences between the mean of the dependent variable and the actual values. The F statistic is then calculated as the ratio of the mean squared error (MSE) to the variance of the dependent variable.</p>
<p>Once we have calculated the F statistic, we can compare it to a critical value from an F distribution table to determine whether the model provides a good fit for the data. If the calculated F statistic is greater than the critical value, we can conclude that the model provides a good fit for the data.</p>
</div>
<div class="cell code" data-execution_count="24" data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}" id="OSuAf7qYG22L" data-outputId="ee8bb551-3687-4ab5-fb76-d6066a725b09">
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the sum of squares due to error (SSE)</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>sse <span class="op">=</span> <span class="bu">sum</span>((y_pred <span class="op">-</span> y_test) <span class="op">**</span> <span class="dv">2</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the total sum of squares (SST)</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>mean_y <span class="op">=</span> y_test.mean()</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>sst <span class="op">=</span> <span class="bu">sum</span>((y_test <span class="op">-</span> mean_y) <span class="op">**</span> <span class="dv">2</span>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the mean squared error (MSE)</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>mse <span class="op">=</span> sse <span class="op">/</span> <span class="bu">len</span>(y_pred)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the variance of the dependent variable</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>var_y <span class="op">=</span> sst <span class="op">/</span> <span class="bu">len</span>(y_test)</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the F statistic</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> mse <span class="op">/</span> var_y</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the critical value of F for a given confidence level</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="co"># and the degrees of freedom</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>confidence_level <span class="op">=</span> <span class="fl">0.95</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>df1 <span class="op">=</span> <span class="bu">len</span>(y_pred) <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>df2 <span class="op">=</span> <span class="bu">len</span>(y_test) <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>critical_value <span class="op">=</span> stats.f.ppf(confidence_level, df1, df2)</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine whether the model provides a good fit for the data</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> f <span class="op">&gt;</span> critical_value:</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;The model provides a good fit for the data.&quot;</span>)</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;The model does not provide a good fit for the data.&quot;</span>)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>The model provides a good fit for the data.
</code></pre>
</div>
</div>
<div class="cell markdown" id="bvXWHjLKH6PQ">
<p>Here we split the data into training and test sets. We then fit the decision tree model on the training data and used it to make predictions on the test data.</p>
<p>Next, we computed the SSE, SST, and MSE by summing the squared differences between the predicted and actual values of the dependent variable and dividing by the number of predicted values. We then computed the variance of the dependent variable and the F statistic by dividing the MSE by the variance.</p>
<p>Finally, we used the stats.f.ppf method to get the critical value of F for a given confidence level and degrees of freedom, and compared the calculated F statistic to the critical value to determine whether the model provides a good fit for the data. If the calculated F statistic is greater than the critical value, we can conclude that the model provides a good fit for the data.</p>
</div>
<section id="part-5-communication-of-insights-attained" class="cell markdown" id="Eota09520PZX">
<h1><strong>Part 5: Communication of insights attained</strong></h1>
</section>
<div class="cell markdown" id="R7O1V7CKdGd8">
<p><strong>Communication of Approach</strong></p>
<hr />
<p>To conclude this tutorial, I wanted to take a step back and look at the approach we took and the motivation behind it all. Using this data, we could have done several things with it. I mean it was a lot of data, over 50,000 rows and 61 columns. There were many approaches we could have taken. But I decided I wanted to look at a few things in particular. I wanted to see how well (let's call it the "first column") the first column effected the game. By this I mean things like first blood, first tower, and first objectives. I wanted to see if they provided a big snowball (this term refers to a team getting so much farm (gold and xp) that they snowball the game and essentially make it near impossible to lose) factor to the overall game. I wanted to see if these objectives gave any sort of momentum boost to the players or if they had any relevance at all in helping the players win the game. It turns out they do! Well, of course they do. As we saw in part 3 with our data analysis, teams that generally got these first objectives had a higher chance to win the game. This means from our data standpoint, there were more wins while getting these objetives than there were loses.</p>
<p>In some cases, our data pointed to first inhibitor which skyrocketed the winrate to about 80%, plus or minus 1%, for each team. That's an absuredly high percentage.</p>
<p>But overall, we were only looking at a small portion of the dataset in this tutorial. Other columns, such as Dragon Kills, Rift Herald Kills, Tower Kills, and Inhibitor Kills for each team can play a big role in the game for choosing the winner. These objectives are the bulk of the game, so you might actually have an easier time predicitng a win with these objective columns. But as mentioned before, I was more motivated to learn how the other objectives impacted the outcome of the game.</p>
<p><strong>Motivation</strong></p>
<hr />
<p>This data was very interesting to me since I personally have played league before. I'm very big into gaming and I play another MOBA called "Smite" which is similar to league in structure, but much smaller of a community and a different view. Regardless though there are a lot of similarities. This is where my motivation came into play for choosing the dataset that I did. I've always admired the structure of a MOBA and I've really enjoyed playing them. I've always wondered and thought about how high of an impact some of these objectives actually are in the game. So getting to do a final project based on this was right up my alley. I knew I would be more motivated to work on this, since it's something I enjoy and play, then the other datasets I was looking at.</p>
</div>
</body>
</html>
